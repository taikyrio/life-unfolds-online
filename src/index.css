
@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

@layer base {
  :root {
    /* Apple Design System Colors */
    --background: 210 20% 98%;
    --foreground: 210 40% 8%;
    --card: 210 20% 98%;
    --card-foreground: 210 40% 8%;
    --popover: 210 20% 98%;
    --popover-foreground: 210 40% 8%;
    --primary: 217 91% 60%;
    --primary-foreground: 210 20% 98%;
    --secondary: 214 32% 91%;
    --secondary-foreground: 210 40% 8%;
    --muted: 214 32% 91%;
    --muted-foreground: 215 25% 27%;
    --accent: 214 32% 91%;
    --accent-foreground: 210 40% 8%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 20% 98%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 217 91% 60%;
    --radius: 1.25rem;
    
    /* Apple-specific design tokens */
    --apple-blur: 40px;
    --apple-glass-bg: rgba(255, 255, 255, 0.1);
    --apple-glass-border: rgba(255, 255, 255, 0.2);
    --apple-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
    --apple-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
    --apple-shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
    --apple-shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1), 0 10px 10px rgba(0, 0, 0, 0.04);
    --apple-transition: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    
    /* visionOS depth layers */
    --depth-1: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
    --depth-2: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
    --depth-3: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
    --depth-4: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
    --depth-5: 0 19px 38px rgba(0, 0, 0, 0.30), 0 15px 12px rgba(0, 0, 0, 0.22);
  }

  .dark {
    --background: 222 84% 5%;
    --foreground: 210 40% 98%;
    --card: 222 84% 5%;
    --card-foreground: 210 40% 98%;
    --popover: 222 84% 5%;
    --popover-foreground: 210 40% 98%;
    --primary: 217 91% 60%;
    --primary-foreground: 222 84% 5%;
    --secondary: 217 33% 18%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217 33% 18%;
    --muted-foreground: 215 20% 65%;
    --accent: 217 33% 18%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;
    --border: 217 33% 18%;
    --input: 217 33% 18%;
    --ring: 217 91% 60%;
    
    /* Dark mode glass effects */
    --apple-glass-bg: rgba(0, 0, 0, 0.3);
    --apple-glass-border: rgba(255, 255, 255, 0.1);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-sans;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Apple Design System Utilities */
@layer utilities {
  /* Glass Morphism System */
  .apple-glass {
    background: var(--apple-glass-bg);
    backdrop-filter: blur(var(--apple-blur));
    -webkit-backdrop-filter: blur(var(--apple-blur));
    border: 1px solid var(--apple-glass-border);
  }
  
  .apple-glass-card {
    @apply apple-glass rounded-3xl;
    box-shadow: var(--depth-2);
  }
  
  .apple-glass-subtle {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Apple Shadow System */
  .apple-shadow-1 { box-shadow: var(--depth-1); }
  .apple-shadow-2 { box-shadow: var(--depth-2); }
  .apple-shadow-3 { box-shadow: var(--depth-3); }
  .apple-shadow-4 { box-shadow: var(--depth-4); }
  .apple-shadow-5 { box-shadow: var(--depth-5); }

  /* Apple Transitions */
  .apple-transition {
    transition: all 0.4s var(--apple-transition);
  }
  
  .apple-transition-fast {
    transition: all 0.2s var(--apple-transition);
  }

  /* Apple Interaction States */
  .apple-hover {
    @apply apple-transition hover:scale-[1.02] active:scale-[0.98];
  }
  
  .apple-press {
    @apply apple-transition-fast active:scale-95 active:brightness-95;
  }

  /* visionOS Spatial Design */
  .vision-depth {
    transform-style: preserve-3d;
    perspective: 1000px;
  }
  
  .vision-float {
    transform: translateZ(30px);
  }
  
  .vision-elevated {
    transform: translateZ(60px);
  }

  /* Apple Button System */
  .apple-button-primary {
    @apply bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-2xl px-6 py-3 apple-press apple-shadow-2;
    background: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);
  }
  
  .apple-button-secondary {
    @apply apple-glass-card hover:bg-white/10 text-current font-medium px-6 py-3 apple-press;
  }
  
  .apple-button-destructive {
    @apply bg-red-500 hover:bg-red-600 text-white font-semibold rounded-2xl px-6 py-3 apple-press apple-shadow-2;
    background: linear-gradient(135deg, #FF3B30 0%, #D70015 100%);
  }

  /* Apple Card System */
  .apple-card {
    @apply apple-glass-card p-6 apple-hover;
  }
  
  .apple-card-compact {
    @apply apple-glass-card p-4 apple-hover;
  }
  
  .apple-card-minimal {
    @apply apple-glass-subtle rounded-2xl p-4 apple-hover;
  }

  /* Mobile-first Apple Design */
  .mobile-apple-container {
    @apply px-4 mx-auto max-w-sm;
  }
  
  .mobile-apple-card {
    @apply apple-card rounded-3xl;
  }
  
  .mobile-apple-button {
    @apply w-full min-h-[52px] rounded-2xl font-semibold text-lg apple-press;
  }

  /* Apple Typography Scale */
  .apple-title-1 {
    @apply text-3xl font-bold tracking-tight;
  }
  
  .apple-title-2 {
    @apply text-2xl font-bold tracking-tight;
  }
  
  .apple-title-3 {
    @apply text-xl font-semibold;
  }
  
  .apple-headline {
    @apply text-lg font-semibold;
  }
  
  .apple-body {
    @apply text-base leading-relaxed;
  }
  
  .apple-caption {
    @apply text-sm text-gray-600 dark:text-gray-400;
  }

  /* Apple Input System */
  .apple-input {
    @apply apple-glass-subtle rounded-xl px-4 py-3 text-base border-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 apple-transition;
  }

  /* Safe Area Support */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-area-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-area-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Apple Navigation */
  .apple-nav-bar {
    @apply apple-glass sticky top-0 z-50 border-b border-white/10;
  }
  
  .apple-tab-bar {
    @apply apple-glass-card border-t border-white/10;
  }

  /* Accessibility & Interaction */
  .apple-focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:ring-offset-2 focus:ring-offset-transparent;
  }
  
  .apple-touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }
}

/* Device-specific optimizations */
@media (max-width: 390px) {
  .mobile-apple-container {
    @apply px-3;
  }
  
  .mobile-apple-card {
    @apply p-4 rounded-2xl;
  }
  
  .mobile-apple-button {
    @apply min-h-[48px] text-base;
  }
}

@media (min-width: 768px) {
  .mobile-apple-container {
    @apply max-w-md mx-auto px-6;
  }
  
  .mobile-apple-button {
    @apply min-h-[56px] text-lg;
  }
}

/* Advanced Apple Visual Effects */
@keyframes apple-scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes apple-slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes apple-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-apple-scale-in {
  animation: apple-scale-in 0.4s var(--apple-transition);
}

.animate-apple-slide-up {
  animation: apple-slide-up 0.5s var(--apple-transition);
}

.animate-apple-fade-in {
  animation: apple-fade-in 0.3s ease-out;
}

/* Hide scrollbars with Apple-style behavior */
.apple-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
}

.apple-scrollbar::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

.apple-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.apple-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 10px;
}

.apple-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5);
}

/* Apple-style selection */
::selection {
  background: rgba(0, 122, 255, 0.3);
  color: inherit;
}

::-moz-selection {
  background: rgba(0, 122, 255, 0.3);
  color: inherit;
}
